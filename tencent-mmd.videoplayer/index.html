<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>京东家居节</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
	<style>
		*{
			margin:0;
			padding:0;
		}
	</style>
	<script src="//ossweb-img.qq.com/images/js/mmdPlugin/mmd-plugin.min.1.0.2.js"></script>
	<script src="//ossweb-img.qq.com/images/js/mmdVideoPlayer/mmd.videoplayer.min.1.0.1.js"></script>
</head>
<body>
	<div view-mode="v"
		 view-rotation="auto"
		 view-scale="noborder"
		 view-width="750"
		 view-height="1334"
		 view-align="">
		<div style="position: absolute;">
			<video id="video" style="display:none;"></video>
		</div>
	</div>
	<script>
		window.onload=function(){
            var src='jiajujie.mp4';
            var videoPlayer=new MMD.VideoPlayer(
                {
                    videoElement:document.getElementById('video'),//[必填],video元素;
                    src:src,//[必填],video src;
                    loop:false,//[可选],是否循环,默认false,true为循环;
                    muted:false,//[可选],是否静音,默认false,IOS下只有IOS10生效,安卓生效;
                    poster:'',//[可选],video默认图片;
                    tryMultipleVideoPlayAtTheSameTime:false,//[可选],尝试同时播放多个视频,默认false;
                    onTimes:function(name){
                        console.log(name)
                        switch (name)
                        {
                            case 'firstPoint':
                                break;
                        }
                    },//[可选],video currenttime回调;
                    onStart:function(){
                        console.log('video start');
                    },//[可选],video第一个画面出现回调;
                    onEnd:function(){
                        console.log('video end');
                    },//[可选],video播放完成回调;
                    isVideoCanAutoPlay:true
                }
            );
            //当isVideoCanAutoPlay属性为true时,则代表允许自动播放;
            //false时,则需要通过用户点击才能播放视频;
            console.log(videoPlayer.isVideoCanAutoPlay);
            if(videoPlayer.isVideoCanAutoPlay)
            {
                videoPlayer.play();
            }
            else
            {
                //click to play;
            }

            videoPlayer.play();

            //解决微信浏览器不播放声音的问题
            document.addEventListener("WeixinJSBridgeReady",function() {
                window["WeixinJSBridge"].invoke('getNetworkType',{},function(e) {
                    //bg = document.getElementById("bg");
                    videoPlayer.play();
                    //videoPlayer.pause();
                });
            });
		}
	</script>
</body>
</html>

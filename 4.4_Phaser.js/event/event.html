<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    * {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
</html>
<!--<script src="https://cdn.jsdelivr.net/npm/phaser@3.20.1/dist/phaser-arcade-physics.min.js"></script>-->
<script src="../../assets/lib/phaser/phaser-3.19.0.min.js"></script>
<script>
  class StarDialog extends Phaser.GameObjects.Container {
    constructor(scene, x = 0, y = 0) {
      super(scene, x, y)
    }

    init() {
      let goBtn = this.scene.add.image(0, 0, "btn_go1.png").setInteractive()
      goBtn.on("pointerup", () => {
        console.log("pointerup goBtn")
      })
      this.add(goBtn)
    }
  }

  var game = new Phaser.Game({
    type: Phaser.AUTO,
    transparent: true,
    backgroundColor: 0x1099bb,
    scene: {
      preload: preload,
      create: create
    }
  });

  function preload() {
    this.load.image('btn_go1.png', './btn_go1.png')
  }

  function create() {
    let layer = this.add.container(0, 0)
    layer.name = 'layer'
    layer.setInteractive({
      hitArea: new Phaser.Geom.Rectangle(0, 0, 100, 100),
      hitAreaCallback: Phaser.Geom.Rectangle.Contains,
      cursor: "pointer",
      useHandCursor: false
    })
    layer.on('pointerup', () => {
      console.log('layer pointerup')
    })

    let dialog = new StarDialog(this, 100, 100)
    layer.add(dialog)
    dialog.init()

    // let dialog = new StarDialog(this, 0, 0)
    // this.add.existing(dialog)
    // dialog.init()
  }
</script>
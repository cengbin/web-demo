<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
  </head>
  <body>
    <script>
      (function () {
        let formattingTokens = /([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?)/g;

        /**
         * number 当前数字
         * targetLength 数字总长度
         * forceSign 是否在数字前显示正负符号
         * */
        function zeroFill (number, targetLength, forceSign) {
          var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
          return (sign ? (forceSign ? '+' : '') : '-') + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
        }

        function moment (format) {
          var date = new Date();
          var o = {
            "Y": date.getFullYear(),                    // 年份
            "M": date.getMonth() + 1,                   // 月份
            "D": date.getDate(),                        // 日
            "h": date.getHours(),                       // 小时
            "m": date.getMinutes(),                     // 分
            "s": date.getSeconds(),                     // 秒
            "q": Math.floor((date.getMonth() + 3) / 3), // 季度
            "S": date.getMilliseconds(),                // 毫秒
          };

          return format.replace(formattingTokens, function (match) {
            var key = Object.keys(o).find(ele => match.indexOf(ele) !== -1);
            var val = (key && o[key] && String(o[key])) || '';
            var len1 = val.length, len2 = match.length;
            if (len1 > len2) val = val.slice(len2 - len1);
            // console.log('match:', match, 'key:', key, 'val:', val)
            return val
          })
        }

        console.log(moment('YY/MM/DD'));
        console.log(moment('YYYY/MM/DD'));
        console.log(moment('hh:mm:ss'));
        console.log(moment('YYYY/MM/DD hh:mm:ss'));
        console.log(moment('____ YYYY[xyzXYZ]/MM/DD hh:mm:ss S___'));
      }());
    </script>
  </body>
</html>
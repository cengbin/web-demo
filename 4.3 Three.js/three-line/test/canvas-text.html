<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
        <meta http-equiv="Content-type" content="text/html; charset = utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
        <title>HTML5</title>
        <style>
            canvas{
                background-color:white;
            }
        </style>
        <script type="text/javascript" charset = "utf-8">
            //这个函数将在页面完全加载后调用
            function pageLoaded()
            {

                var image = new Image();
                //image.src = canvas.toDataURL("image/png");
                image.src = "../img/bg.png";
                image.onload=function(){

                    var text="hello world 你好，世界!";
                    var textHeight=30;

                    var canvas = document.createElement('canvas');
                    var context = canvas.getContext('2d');
                    canvas.width=parseInt(context.measureText(text).width);
                    canvas.height=textHeight;

                    context.clearRect(0,0,canvas.width,canvas.height)
                    context.fillText(text,0,20);
                    context.font=textHeight+"px Arial";
                    console.log(context.measureText(text).width);
                    console.log(context.measureText(text).height);

                    document.body.appendChild(canvas);
                }


                /*var canvas = document.createElement('canvas');
                canvas.width=100;
                canvas.height=30;
                function convertCanvasToImage(canvas,text) {
                    //获取该canvas的2D绘图环境
                    var context = canvas.getContext('2d');
                    context.clearRect(0,0,canvas.width,canvas.height)
                    //绘制文本
                    context.fillText(text,0,20);

                    var image = new Image();
                    image.src = canvas.toDataURL("image/png");
                    return image;
                }

                var image=convertCanvasToImage(canvas,"wellcome");
                document.body.appendChild(image);
                var image=convertCanvasToImage(canvas,"wellcome");
                document.body.appendChild(image);
                var image=convertCanvasToImage(canvas,"wellcome");
                document.body.appendChild(image);*/

            }

        </script>
    </head>
    <body onload="pageLoaded();">
        <!--<canvas width = "500" height = "300" id = "tCanvas" style = "border:black 1px solid;">
            &lt;!&ndash;如果浏览器不支持则显示如下字体&ndash;&gt;
            提示：你的浏览器不支持标签
        </canvas>-->
    </body>
</html> 